<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ultimate Simulation</title>
</head>
<body>

<input type="range" min="1" max="15" value="1" id="score_max_slider">
<input type="range" min="0" max="1" value="0.5" step="0.01"  id="score_max_slider">
<input type="text" id="sliderValue">

<script>

const assumptions = {
    0: { 0: 0.8, 1: 0.7 },
    1: { 0: 0.8, 1: 0.7 },
};
  
function sim() {


  const state = {
    score: [0, 0],
    pullReceive: 0,
    offense: 0,
  };

  while (Math.max(...state.score) < 15) {
    // Turnover
    if (Math.random() > assumptions[state.offense][state.pullReceive ^ state.offense]) {
      // console.log("Turnover Offence:", state.offense);  // For debugging (uncomment if needed)
      state.offense = 1 - state.offense  ;  // Toggle offense using modulo
    } else {
      // Score
      state.score[state.offense] += 1;
      state.pullReceive = 1 - state.offense;
      state.offense = state.pullReceive;
      // console.log("Score:", state.score);  // For debugging (uncomment if needed)
    }
  }

  return state.score;
} 


// Get references to the slider and textbox
var slider = document.getElementById("slider");
var sliderValue = document.getElementById("sliderValue");

// Function to update the textbox value when the slider changes
function updateTextboxValue() {
  sliderValue.value = score_max_slider.value;
}

// Set up an event listener to call the updateTextboxValue function when the slider value changes
score_max_slider.addEventListener("input", updateTextboxValue);

// Call the updateTextboxValue function initially to display the initial slider value
updateTextboxValue();
</script>

</body>
</html>
